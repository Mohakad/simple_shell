#include "shell.h"
/**
 * getln- getline
 * @fl: file
 * @len: length
 * @n: numberof
 * Return: input
 */
char *getln(FILE *fl, size_t *len, size_t *n)
{
	char *buf = NULL;

	size_t s = 0, al = 0;

	do {
		if (s == 0)
		{
			s = *n;
			buf = malloc(s);
			if (!buf)
				return (NULL);
		}
		else
		{
			s *= 2;
			buf = realloc(buf, s);
			if (!buf)
				return (NULL);
		}
		if (n)
			*n = s;
		al = fread(buf, 1, s, fl);
	} while (al == s && ferror(fl) == 0);
	if (al == 0)
	{
		if (feof(fl))
			return (NULL);

		else
		{
			perror("getline");
			return (NULL);
		}
	}
	buf[al] = '\0';
	*len = al;
	return (buf);
}
